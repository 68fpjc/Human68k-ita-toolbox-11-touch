


TOUCH(1)       Human68k ITA TOOLBOX User's Manual        TOUCH(1)



名称
     touch - ファイルやディレクトリのタイムスタンプを変更する

形式
     touch [ -cdf ] [ -rR reffile | [[CC]YY]MMDDhhmm[.ss] ]
          [ -- ] file ...

解説
     touch はファイルやディレクトリのタイムスタンプを変更します．
     file ... は対象のファイルやディレクトリのパス名の並びです．
     これらは左から右に順番に処理され，もし途中でエラーがあっても
     処理は最後まで続行されます．

     -c オプションが指定されていなければ，file が存在していないと，
     長さ 0 の通常ファイルとして新規作成されます．

     設定する日付と時刻は，引数 [[CC]YY]MMDDhhmm[.ss] で指定しま
     す．それぞれの桁は 2桁ずつの10進数で，CC は西暦で表した年の
     上位 2桁，YY は下位 2桁，MM は月（01〜12），DD は日（01〜31），
     hh は時（00〜23），mm は分（00〜59），ss は秒（00〜59）の指
     定です．年は 1980 から 2079 までが認められます．CC を省略し
     て YY を指定した場合，80〜99 は 1980〜1999，00〜79 は 2000〜
     2079 を表します．年のデフォルトは touch 起動直後の現在年，秒
     のデフォルトは 00 です．なお，ss が奇数である場合，実際には
     OS の仕様により ss から 1 を引いた値が設定されます．

     -r オプションまたは -R オプションは，file のタイムスタンプを
     コピーすることを指示します．file が沖版 lndrv によるシンボリッ
     ク・リンクである場合，-r は file が参照するファイルのタイム・
     スタンプを，-R は file 自体のタイム・スタンプをコピーします．

     -r オプションまたは -R オプションと [[CC]YY]MMDDhhmm[.ss] 
     による指定の両方があってはなりません．どちらの指定も無い場合
     には，touch 起動直後の現在時刻が設定されます．ただしその時刻
     の秒が奇数である場合は，OS の仕様により，その 1秒前の時刻が
     設定されます．

     touch には次のオプションがあります．

     -c        name が存在しない場合，name を作成せず無視します．

     -d        name が沖版 lndrv によるシンボリック・リンクである
               場合，通常は name が参照しているファイルが対象とな
               りますが，このオプションを指定すると name 自体が対
               象となります．

     -f        変更が禁止されているファイルに対しても強制的にタイ
               ム・スタンプを設定します．また，各 name の処理に失
               敗しても，特に重大な事態でなければ，エラー・メッセー
               ジを出力しません（ただし終了ステータスは 2 が返り
               ます）．また，ファイル引数が 1つも無くてもエラーと
               しません．

     -r file   file のタイム・スタンプをコピーします．file が沖版
               lndrv によるシンボリック・リンクである場合には
               file が参照するファイルのタイム・スタンプをコピー
               します．

     -R file   file のタイム・スタンプをコピーします．file が沖版
               lndrv によるシンボリック・リンクである場合には
               file 自体のタイム・スタンプをコピーします．

     -r オプションや -R オプションを複数指定した場合には最後の指
     定のみが有効となります．

関連事項
     ls(1), make(1), date(1)

診断
     何らかのエラーがあったときにはエラー・メッセージが標準エラー
     出力に出力されます（ただし -f オプションが指定された場合には，
     各ファイルに対する処理中の特に重大でないエラーは出力されませ
     ん）．

     終了ステータスとしては，引数の記述に間違いがあった場合には 1，
     各引数の処理中に何らかのエラーが 1つでもあった場合には 2，メ
     モリ不足など，システムの原因により正常に実行ができなかった場
     合には 3，すべてが正常に終了したならば 0 が返ります．^C など
     によって中断したときの終了ステータスは OS の仕様によります．

注意
     日付と時刻の指定（[[CC]YY]MMDDhhmm[.ss]）は単一の引数でなけ
     ればなりません．

     数字で始まるファイル名を指定する際には引数の形式に注意してく
     ださい．特にシェルのワイルドカードには注意が必要です．'-' や
     数字で始まる名前は引数リストの先頭に並べられる可能性が高いと
     いうことに気を付けてください．

制約
     ルート・ディレクトリのタイム・スタンプを変更することはできま
     せん．これは仮想ドライブのルート・ディレクトリについても同じ
     です．

     OS の仕様により，年は 1980 から 2107 までの範囲でなければな
     りません．

     OS の仕様により，秒は偶数のみが設定されます．設定しようとし
     た時刻の秒が奇数である場合には，その 1秒前の時刻が設定される
     ことになります．

不具合
     メディアがセットされていないドライブのカレント・ディレクトリ
     は / であると見なされて処理が進みます．

     ディレクトリのタイム・スタンプを変更しても，そのディレクトリ
     を指す . や .. の FAT上のエントリが保持するタイム・スタンプ
     は変化しません．

     実際には存在しない日付（たとえば 2月31日）もエラーとならずに
     設定されてしまいます．

バージョン
     1.5

制作・著作
     Copyright(C)1992-95 by 板垣 史彦 (Itagaki Fumihiko)



1.5                 Last change:  5 Jan 1995     Itagaki Fumihiko



